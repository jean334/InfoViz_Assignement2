{"ast":null,"code":"var _jsxFileName = \"C:\\\\Jean\\\\Scolarite\\\\NUS\\\\SoC\\\\Data_vizualisation\\\\Assignement_2\\\\assignement2-app\\\\src\\\\Components\\\\ParallelPlot.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport * as d3 from \"d3\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ParallelPlot() {\n  _s();\n  const [data, setData] = useState(null);\n  useEffect(() => {\n    d3.dsv(\",\", \"/assets/paral2_sampled.csv\", d => ({\n      date: d3.timeParse(\"%Y/%m/%d\")(d.date),\n      name: d.name,\n      //account_created_at: d3.timeParse(\"%Y/%m/%d\")(d.account_created_at),\n      followers_count: +d.followers_count,\n      following_count: +d.following_count,\n      statuses_count: +d.statuses_count,\n      listed_count: +d.listed_count\n      //time_since_last_post: d.time_since_last_post,\n    })).then(loadedData => {\n      setData(loadedData);\n    });\n  }, []);\n  if (!data) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading viz...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(GraphVisualization, {\n    data: data\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 12\n  }, this);\n}\n_s(ParallelPlot, \"fQZRxy/+nAZ7NLS1X4dVhrlp8Go=\");\n_c = ParallelPlot;\nfunction GraphVisualization({\n  data\n}) {\n  _s2();\n  // Specify the chart’s dimensions.\n  const keys = data.columns.slice(1);\n  const keyz = \"date\";\n  const width = 928;\n  const height = keys.length * 120;\n  const marginTop = 20;\n  const marginRight = 10;\n  const marginBottom = 20;\n  const marginLeft = 10;\n  useEffect(() => {\n    d3.select(\"#parralel-container\").select(\"svg\").remove();\n\n    // Create an horizontal (*x*) scale for each key.\n    //const x = d3.scaleBand()\n    //  .domain(data.map(d => d3.timeFormat(\"%Y-%m-%d\")(d.date))) // Convertit en chaînes uniques\n    //  .range([marginLeft, width - marginRight])\n    //  .padding(0.1);\n    const x = new Map(Array.from(keys, key => [key, d3.scaleLinear(d3.extent(data, d => d[key]), [marginLeft, width - marginRight])]));\n\n    // Create the vertical (*y*) scale.\n    const y = d3.scalePoint(keys, [marginTop, height - marginBottom]);\n\n    // Create the color scale.\n    const color = d3.scaleSequential(x.get(keyz).domain(), t => d3.interpolateBrBG(1 - t));\n    //const color = d3.scaleOrdinal(data.children.map((d) => d.name), d3.schemeTableau10);\n    // Create the SVG container.\n    //const svg = d3.create(\"svg\")\n    const svg = d3.select(\"#parralel-container\").append(\"svg\").attr(\"viewBox\", [0, 0, width, height]).attr(\"width\", width).attr(\"height\", height).attr(\"style\", \"max-width: 100%; height: auto;\");\n    const z = svg.append(\"g\");\n    const zoom = d3.zoom().scaleExtent([0.5, 5]) // Facteur de zoom min/max\n    .on(\"zoom\", event => {\n      z.attr(\"transform\", event.transform); // Applique la transformation sur le groupe contenant le graph\n    });\n    svg.call(zoom);\n\n    // Append the lines.\n    const line = d3.line().defined(([, value]) => value != null).x(([key, value]) => x.get(key)(value)).y(([key]) => y(key));\n    z.attr(\"fill\", \"none\").attr(\"stroke-width\", 1.5).attr(\"stroke-opacity\", 0.4).selectAll(\"path\").data(data.slice().sort((a, b) => d3.ascending(a[keyz], b[keyz]))).join(\"path\").attr(\"stroke\", d => color(d[keyz])).attr(\"d\", d => line(d3.cross(keys, [d], (key, d) => [key, d[key]]))).append(\"title\").text(d => d.name);\n\n    // Append the axis for each key.\n    z.selectAll(\"g\").data(keys).join(\"g\").attr(\"transform\", d => `translate(0,${y(d)})`).each(function (d) {\n      d3.select(this).call(d3.axisBottom(x.get(d)));\n    }).call(g => g.append(\"text\").attr(\"x\", marginLeft).attr(\"y\", -6).attr(\"text-anchor\", \"start\").attr(\"fill\", \"currentColor\").text(d => d)).call(g => g.selectAll(\"text\").clone(true).lower().attr(\"fill\", \"none\").attr(\"stroke-width\", 5).attr(\"stroke-linejoin\", \"round\").attr(\"stroke\", \"white\"));\n  }, [data]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"parralel-container\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 5\n  }, this);\n}\n_s2(GraphVisualization, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c2 = GraphVisualization;\nexport default ParallelPlot;\nvar _c, _c2;\n$RefreshReg$(_c, \"ParallelPlot\");\n$RefreshReg$(_c2, \"GraphVisualization\");","map":{"version":3,"names":["useEffect","useState","d3","jsxDEV","_jsxDEV","ParallelPlot","_s","data","setData","dsv","d","date","timeParse","name","followers_count","following_count","statuses_count","listed_count","then","loadedData","children","fileName","_jsxFileName","lineNumber","columnNumber","GraphVisualization","_c","_s2","keys","columns","slice","keyz","width","height","length","marginTop","marginRight","marginBottom","marginLeft","select","remove","x","Map","Array","from","key","scaleLinear","extent","y","scalePoint","color","scaleSequential","get","domain","t","interpolateBrBG","svg","append","attr","z","zoom","scaleExtent","on","event","transform","call","line","defined","value","selectAll","sort","a","b","ascending","join","cross","text","each","axisBottom","g","clone","lower","id","_c2","$RefreshReg$"],"sources":["C:/Jean/Scolarite/NUS/SoC/Data_vizualisation/Assignement_2/assignement2-app/src/Components/ParallelPlot.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport * as d3 from \"d3\";\r\n\r\nfunction ParallelPlot() {\r\n    const [data, setData] = useState(null);\r\n  \r\n    useEffect(() => {\r\n      d3.dsv(\",\", \"/assets/paral2_sampled.csv\", (d) => ({\r\n        date: d3.timeParse(\"%Y/%m/%d\")(d.date),\r\n        name: d.name,\r\n        //account_created_at: d3.timeParse(\"%Y/%m/%d\")(d.account_created_at),\r\n        followers_count: +d.followers_count,\r\n        following_count: +d.following_count,\r\n        statuses_count: +d.statuses_count,\r\n        listed_count: +d.listed_count,    \r\n        //time_since_last_post: d.time_since_last_post,\r\n      })).then((loadedData) => {\r\n        setData(loadedData);\r\n      });\r\n    }, []);\r\n  \r\n    if (!data) return <p>Loading viz...</p>;\r\n  \r\n    return <GraphVisualization data={data} />;\r\n  }\r\n\r\n\r\nfunction GraphVisualization({ data}){\r\n\r\n    // Specify the chart’s dimensions.\r\n    const keys = data.columns.slice(1);\r\n    const keyz = \"date\";\r\n    const width = 928;\r\n    const height = keys.length * 120;\r\n    const marginTop = 20;\r\n    const marginRight = 10;\r\n    const marginBottom = 20;\r\n    const marginLeft = 10;\r\n    useEffect(() => {\r\n      d3.select(\"#parralel-container\").select(\"svg\").remove(); \r\n\r\n\r\n  \r\n    // Create an horizontal (*x*) scale for each key.\r\n    //const x = d3.scaleBand()\r\n    //  .domain(data.map(d => d3.timeFormat(\"%Y-%m-%d\")(d.date))) // Convertit en chaînes uniques\r\n    //  .range([marginLeft, width - marginRight])\r\n    //  .padding(0.1);\r\n    const x = new Map(Array.from(keys, key => [key, d3.scaleLinear(d3.extent(data, d => d[key]), [marginLeft, width - marginRight])]));\r\n  \r\n    // Create the vertical (*y*) scale.\r\n    const y = d3.scalePoint(keys, [marginTop, height - marginBottom]);\r\n  \r\n    // Create the color scale.\r\n    const color = d3.scaleSequential(x.get(keyz).domain(), t => d3.interpolateBrBG(1 - t));\r\n    //const color = d3.scaleOrdinal(data.children.map((d) => d.name), d3.schemeTableau10);\r\n    // Create the SVG container.\r\n    //const svg = d3.create(\"svg\")\r\n    const svg = d3.select(\"#parralel-container\")\r\n        .append(\"svg\")\r\n        .attr(\"viewBox\", [0, 0, width, height])\r\n        .attr(\"width\", width)\r\n        .attr(\"height\", height)\r\n        .attr(\"style\", \"max-width: 100%; height: auto;\");\r\n\r\n        const z = svg.append(\"g\");\r\n\r\n        const zoom = d3.zoom()\r\n        .scaleExtent([0.5, 5]) // Facteur de zoom min/max\r\n        .on(\"zoom\", (event) => {\r\n        z.attr(\"transform\", event.transform); // Applique la transformation sur le groupe contenant le graph\r\n        });\r\n  \r\n    svg.call(zoom);\r\n\r\n    \r\n    // Append the lines.\r\n    const line = d3.line()\r\n      .defined(([, value]) => value != null)\r\n      .x(([key, value]) => x.get(key)(value))\r\n      .y(([key]) => y(key));\r\n  \r\n    z.attr(\"fill\", \"none\")\r\n        .attr(\"stroke-width\", 1.5)\r\n        .attr(\"stroke-opacity\", 0.4)\r\n      .selectAll(\"path\")\r\n      .data(data.slice().sort((a, b) => d3.ascending(a[keyz], b[keyz])))\r\n      .join(\"path\")\r\n        .attr(\"stroke\", d => color(d[keyz]))\r\n        .attr(\"d\", d => line(d3.cross(keys, [d], (key, d) => [key, d[key]])))\r\n      .append(\"title\")\r\n        .text(d => d.name);\r\n  \r\n    // Append the axis for each key.\r\n    z.selectAll(\"g\")\r\n      .data(keys)\r\n      .join(\"g\")\r\n        .attr(\"transform\", d => `translate(0,${y(d)})`)\r\n        .each(function(d) { d3.select(this).call(d3.axisBottom(x.get(d))); })\r\n        .call(g => g.append(\"text\")\r\n          .attr(\"x\", marginLeft)\r\n          .attr(\"y\", -6)\r\n          .attr(\"text-anchor\", \"start\")\r\n          .attr(\"fill\", \"currentColor\")\r\n          .text(d => d))\r\n        .call(g => g.selectAll(\"text\")\r\n          .clone(true).lower()\r\n          .attr(\"fill\", \"none\")\r\n          .attr(\"stroke-width\", 5)\r\n          .attr(\"stroke-linejoin\", \"round\")\r\n          .attr(\"stroke\", \"white\"));\r\n    }, [data]);\r\n    return (\r\n    <div id=\"parralel-container\">\r\n    </div>);\r\n  }\r\n\r\n  export default ParallelPlot;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}