{"ast":null,"code":"var _jsxFileName = \"C:\\\\Jean\\\\Scolarite\\\\NUS\\\\SoC\\\\Data_vizualisation\\\\Assignement_2\\\\assignement2-app\\\\src\\\\Components\\\\BarRace.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport * as d3 from \"d3\";\nimport data from \"../assets/barRace1.json\";\nimport \"./BarRace.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst generateKeyframes = () => {\n  const data = [{\n    name: \"A\",\n    value: Math.random() * 100\n  }, {\n    name: \"B\",\n    value: Math.random() * 100\n  }, {\n    name: \"C\",\n    value: Math.random() * 100\n  }, {\n    name: \"D\",\n    value: Math.random() * 100\n  }];\n  const keyframes = Array.from({\n    length: 20\n  }, (_, i) => {\n    const updatedData = data.map(d => ({\n      ...d,\n      value: d.value + Math.random() * 10\n    }));\n    const rankedData = updatedData.sort((a, b) => b.value - a.value).map((d, index) => ({\n      ...d,\n      rank: index\n    }));\n    return [`2025-03-${i + 1}`, rankedData];\n  });\n  return keyframes;\n};\nconst BarRace = ({\n  duration = 250,\n  width = 800,\n  height = 600,\n  n = 12\n}) => {\n  _s();\n  const keyframes = data;\n  const svgRef = useRef();\n  const [replay, setReplay] = useState(false);\n  const barSize = 48;\n  const marginTop = 16;\n  const marginBottom = 6;\n  const marginLeft = 0;\n  const marginRight = 100;\n  const x = d3.scaleLinear([0, 1], [marginLeft, width - marginRight]);\n  const y = d3.scaleBand().domain(d3.range(n)).rangeRound([marginTop, marginTop + barSize * n]).padding(0.1);\n  const colorScale = d3.scaleOrdinal(d3.schemeTableau10);\n  const replayAnimation = () => {\n    setReplay(false);\n    setTimeout(() => setReplay(true), 0);\n  };\n\n  /*\r\n  const updateBars = (data, transition, gBars) => {\r\n    const bars = gBars.selectAll(\"rect\").data(data, (d) => d.name);\r\n    bars\r\n      .join(\r\n        (enter) =>\r\n          enter\r\n            .append(\"rect\")\r\n            .attr(\"fill\", (d) => colorScale(d.name))\r\n            .attr(\"x\", x(0))\r\n            .attr(\"y\", (d) => y(d.rank))\r\n            .attr(\"height\", y.bandwidth())\r\n            .attr(\"width\", (d) => x(d.value/5) - x(0)),\r\n        (update) => update,\r\n        (exit) => exit.transition(transition).attr(\"width\", 0).remove()\r\n      )\r\n      if(transition) {\r\n        bars.call((bar) =>\r\n        bar\r\n          .transition(transition)\r\n          .attr(\"y\", (d) => y(d.rank)) \r\n          .attr(\"width\", (d) => x(d.value) - x(0))\r\n      );}\r\n  };\r\n    \r\n  const updateLabels = (data, transition, gLabels) => {\r\n    const labels = gLabels.selectAll(\"text\").data(data, (d) => d.name);\r\n    \r\n    labels\r\n      .join(\r\n        (enter) =>\r\n          enter\r\n            .append(\"text\")\r\n            .attr(\"x\", -6)\r\n            .attr(\"y\", (d) => y(d.rank) + y.bandwidth() / 2)\r\n            .attr(\"dy\", \"0.35em\")\r\n            .text((d) => d.name + \": \" + Math.round(d.value)),\r\n        (update) =>\r\n          update, \r\n        (exit) =>\r\n          exit.transition(transition).attr(\"opacity\", 0).remove() \r\n      )\r\n      if(transition) {\r\n        labels\r\n        .call((label) =>\r\n            label\r\n              .transition(transition)\r\n              .attr(\"x\", 120)\r\n              .attr(\"y\", (d) => y(d.rank) + y.bandwidth() / 2)\r\n              .attr('fill', '#FDF0D5')\r\n              .selection() \r\n              .text((d) => d.name + \": \" + Math.round(d.value)) \r\n          );\r\n      }\r\n  };\r\n    const updateTicker = (date, transition, gTicker) => {\r\n    gTicker\r\n    .attr('fill', '#FDF0D5')\r\n    .attr('x', width - marginRight-140)\r\n    .attr('y', height - marginBottom-100);\r\n  \r\n    if(transition){\r\n      gTicker.transition(transition).text(date.slice(0,7));\r\n    }\r\n  };\r\n  */\n  /*\r\n   useEffect(() => {\r\n     if (!svgRef.current || !keyframes || keyframes.length === 0) return;\r\n     const svg = d3.select(svgRef.current);\r\n   \r\n     svg.interrupt();\r\n     svg.selectAll(\"rect, text\").remove(); \r\n   \r\n     const gBars = svg.append(\"g\").attr(\"fill-opacity\", 1);\r\n     const gLabels = svg.append(\"g\").attr(\"text-anchor\", \"end\");\r\n     const gTicker = svg.append(\"text\")\r\n       .attr(\"x\", width - 6)\r\n       .attr(\"y\", marginTop)\r\n       .style(\"font\", `bold ${barSize}px sans-serif`);\r\n   \r\n     const animateChart = async () => {\r\n       for (const { date, val } of keyframes) {\r\n         if (!val || val.length === 0) continue;\r\n   \r\n         const transition = svg.transition()\r\n           .duration(duration)\r\n           .ease(d3.easeLinear);\r\n   \r\n         x.domain([0, 3000]);\r\n   \r\n         updateBars(val, transition, gBars);\r\n         updateLabels(val, transition, gLabels);\r\n         updateTicker(date, transition, gTicker);  \r\n   \r\n         try {\r\n           await transition.end();\r\n         } catch (e) {\r\n           console.log(\"Transition interrupted:\", e);\r\n         }\r\n       }\r\n     };\r\n   \r\n     animateChart();\r\n   \r\n     return () => {\r\n       svg.interrupt(); \r\n     };\r\n   }, [keyframes, replay, svgRef]);\r\n   */\n  useEffect(() => {\n    if (!svgRef.current || !keyframes || keyframes.length === 0) return;\n    const svg = d3.select(svgRef.current);\n    svg.selectAll(\"*\").remove();\n    svg.attr(\"viewBox\", [0, 0, width, height]).attr(\"width\", width).attr(\"height\", height);\n    const gBars = svg.append(\"g\").attr(\"fill-opacity\", 1);\n    const gLabels = svg.append(\"g\").attr(\"text-anchor\", \"end\");\n    const gTicker = svg.append(\"text\").attr(\"x\", width - 6).attr(\"y\", marginTop).style(\"font,bold 12px sans-serif\");\n    const updateBars = (data, transition) => {\n      const bars = gBars.selectAll(\"rect\").data(data, d => d.name);\n      bars.join(enter => enter.append(\"rect\").attr(\"fill\", d => colorScale(d.name)).attr(\"x\", x(0)).attr(\"y\", d => y(d.rank)).attr(\"height\", y.bandwidth()).attr(\"width\", d => x(d.value / 5) - x(0)), update => update, exit => exit.transition(transition).attr(\"width\", 0).remove());\n      console.log(\"transistion\", transition);\n      if (transition) {\n        bars.call(bar => bar.transition(transition).attr(\"y\", d => y(d.rank)).attr(\"width\", d => x(d.value) - x(0)));\n      }\n    };\n    const updateLabels = (data, transition) => {\n      const labels = gLabels.selectAll(\"text\").data(data, d => d.name);\n      labels.join(enter => enter.append(\"text\").attr(\"x\", -6).attr(\"y\", d => y(d.rank) + y.bandwidth() / 2).attr(\"dy\", \"0.35em\").text(d => d.name + \": \" + Math.round(d.value)), update => update, exit => exit.transition(transition).attr(\"opacity\", 0).remove());\n      if (transition) {\n        labels.call(label => label.transition(transition).attr(\"x\", 120).attr(\"y\", d => y(d.rank) + y.bandwidth() / 2).attr('fill', '#FDF0D5').selection().text(d => d.name + \": \" + Math.round(d.value)));\n      }\n    };\n    const updateTicker = (date, transition) => {\n      gTicker.attr('fill', '#FDF0D5').attr('x', width - marginRight - 140).attr('y', height - marginBottom - 100).transition(transition).text(date.slice(0, 7));\n    };\n    (async function animateChart() {\n      for (const {\n        date,\n        val\n      } of keyframes) {\n        if (!val || val.length === 0) continue;\n        const transition = svg.transition().duration(duration).ease(d3.easeLinear);\n        x.domain([0, 3000]);\n        updateBars(val, transition);\n        updateLabels(val, transition);\n        updateTicker(date, transition);\n        try {\n          await transition.end();\n        } catch (e) {\n          console.log(\"Transition interrupted:\", e);\n        }\n      }\n    })();\n  }, [keyframes, replay, svgRef]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: replayAnimation,\n      className: \"replay-button\",\n      children: \"Replay\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n      ref: svgRef,\n      className: \"bar-race\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 266,\n    columnNumber: 7\n  }, this);\n};\n_s(BarRace, \"MmrHNShklPhzlheXlU4SHRhQdzY=\");\n_c = BarRace;\nexport default BarRace;\nvar _c;\n$RefreshReg$(_c, \"BarRace\");","map":{"version":3,"names":["React","useEffect","useRef","useState","d3","data","jsxDEV","_jsxDEV","generateKeyframes","name","value","Math","random","keyframes","Array","from","length","_","i","updatedData","map","d","rankedData","sort","a","b","index","rank","BarRace","duration","width","height","n","_s","svgRef","replay","setReplay","barSize","marginTop","marginBottom","marginLeft","marginRight","x","scaleLinear","y","scaleBand","domain","range","rangeRound","padding","colorScale","scaleOrdinal","schemeTableau10","replayAnimation","setTimeout","current","svg","select","selectAll","remove","attr","gBars","append","gLabels","gTicker","style","updateBars","transition","bars","join","enter","bandwidth","update","exit","console","log","call","bar","updateLabels","labels","text","round","label","selection","updateTicker","date","slice","animateChart","val","ease","easeLinear","end","e","children","onClick","className","fileName","_jsxFileName","lineNumber","columnNumber","ref","_c","$RefreshReg$"],"sources":["C:/Jean/Scolarite/NUS/SoC/Data_vizualisation/Assignement_2/assignement2-app/src/Components/BarRace.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport * as d3 from \"d3\";\r\nimport data from \"../assets/barRace1.json\";\r\nimport \"./BarRace.css\";\r\n\r\nconst generateKeyframes = () => {\r\n  const data = [\r\n    { name: \"A\", value: Math.random() * 100 },\r\n    { name: \"B\", value: Math.random() * 100 },\r\n    { name: \"C\", value: Math.random() * 100 },\r\n    { name: \"D\", value: Math.random() * 100 },\r\n  ];\r\n\r\n  const keyframes = Array.from({ length: 20 }, (_, i) => {\r\n    const updatedData = data.map((d) => ({ ...d, value: d.value + Math.random() * 10 }));\r\n\r\n    const rankedData = updatedData\r\n      .sort((a, b) => b.value - a.value)\r\n      .map((d, index) => ({ ...d, rank: index }));\r\n\r\n    return [`2025-03-${i + 1}`, rankedData]; \r\n  });\r\n\r\n  return keyframes;\r\n};\r\n\r\n  \r\n  const BarRace = ({duration = 250, width = 800, height = 600, n = 12 }) => {\r\n    const keyframes = data;\r\n    const svgRef = useRef();\r\n    const [replay, setReplay] = useState(false); \r\n    const barSize = 48;\r\n    const marginTop = 16;\r\n    const marginBottom = 6;\r\n    const marginLeft = 0;\r\n    const marginRight = 100;\r\n\r\n    const x = d3.scaleLinear([0, 1], [marginLeft, width - marginRight]);\r\n    const y = d3\r\n      .scaleBand()\r\n      .domain(d3.range(n))\r\n      .rangeRound([marginTop, marginTop + barSize * n])\r\n      .padding(0.1);\r\n  \r\n    const colorScale = d3.scaleOrdinal(d3.schemeTableau10);\r\n  \r\n    const replayAnimation = () => {\r\n      setReplay(false);\r\n      setTimeout(() => setReplay(true), 0); \r\n    };\r\n\r\n    /*\r\n    const updateBars = (data, transition, gBars) => {\r\n      const bars = gBars.selectAll(\"rect\").data(data, (d) => d.name);\r\n      bars\r\n        .join(\r\n          (enter) =>\r\n            enter\r\n              .append(\"rect\")\r\n              .attr(\"fill\", (d) => colorScale(d.name))\r\n              .attr(\"x\", x(0))\r\n              .attr(\"y\", (d) => y(d.rank))\r\n              .attr(\"height\", y.bandwidth())\r\n              .attr(\"width\", (d) => x(d.value/5) - x(0)),\r\n          (update) => update,\r\n          (exit) => exit.transition(transition).attr(\"width\", 0).remove()\r\n        )\r\n        if(transition) {\r\n          bars.call((bar) =>\r\n          bar\r\n            .transition(transition)\r\n            .attr(\"y\", (d) => y(d.rank)) \r\n            .attr(\"width\", (d) => x(d.value) - x(0))\r\n        );}\r\n    };\r\n      \r\n    const updateLabels = (data, transition, gLabels) => {\r\n      const labels = gLabels.selectAll(\"text\").data(data, (d) => d.name);\r\n      \r\n      labels\r\n        .join(\r\n          (enter) =>\r\n            enter\r\n              .append(\"text\")\r\n              .attr(\"x\", -6)\r\n              .attr(\"y\", (d) => y(d.rank) + y.bandwidth() / 2)\r\n              .attr(\"dy\", \"0.35em\")\r\n              .text((d) => d.name + \": \" + Math.round(d.value)),\r\n          (update) =>\r\n            update, \r\n          (exit) =>\r\n            exit.transition(transition).attr(\"opacity\", 0).remove() \r\n        )\r\n        if(transition) {\r\n          labels\r\n          .call((label) =>\r\n              label\r\n                .transition(transition)\r\n                .attr(\"x\", 120)\r\n                .attr(\"y\", (d) => y(d.rank) + y.bandwidth() / 2)\r\n                .attr('fill', '#FDF0D5')\r\n                .selection() \r\n                .text((d) => d.name + \": \" + Math.round(d.value)) \r\n            );\r\n        }\r\n    };\r\n\r\n    const updateTicker = (date, transition, gTicker) => {\r\n      gTicker\r\n      .attr('fill', '#FDF0D5')\r\n      .attr('x', width - marginRight-140)\r\n      .attr('y', height - marginBottom-100);\r\n    \r\n      if(transition){\r\n        gTicker.transition(transition).text(date.slice(0,7));\r\n      }\r\n    };\r\n    */\r\n   /*\r\n    useEffect(() => {\r\n      if (!svgRef.current || !keyframes || keyframes.length === 0) return;\r\n      const svg = d3.select(svgRef.current);\r\n    \r\n      svg.interrupt();\r\n      svg.selectAll(\"rect, text\").remove(); \r\n    \r\n      const gBars = svg.append(\"g\").attr(\"fill-opacity\", 1);\r\n      const gLabels = svg.append(\"g\").attr(\"text-anchor\", \"end\");\r\n      const gTicker = svg.append(\"text\")\r\n        .attr(\"x\", width - 6)\r\n        .attr(\"y\", marginTop)\r\n        .style(\"font\", `bold ${barSize}px sans-serif`);\r\n    \r\n      const animateChart = async () => {\r\n        for (const { date, val } of keyframes) {\r\n          if (!val || val.length === 0) continue;\r\n    \r\n          const transition = svg.transition()\r\n            .duration(duration)\r\n            .ease(d3.easeLinear);\r\n    \r\n          x.domain([0, 3000]);\r\n    \r\n          updateBars(val, transition, gBars);\r\n          updateLabels(val, transition, gLabels);\r\n          updateTicker(date, transition, gTicker);  \r\n    \r\n          try {\r\n            await transition.end();\r\n          } catch (e) {\r\n            console.log(\"Transition interrupted:\", e);\r\n          }\r\n        }\r\n      };\r\n    \r\n      animateChart();\r\n    \r\n      return () => {\r\n        svg.interrupt(); \r\n      };\r\n    }, [keyframes, replay, svgRef]);\r\n    */\r\n    useEffect(() => {\r\n      if (!svgRef.current || !keyframes || keyframes.length === 0) return;\r\n      const svg = d3.select(svgRef.current);\r\n      svg.selectAll(\"*\").remove(); \r\n      svg\r\n        .attr(\"viewBox\", [0, 0, width, height])\r\n        .attr(\"width\", width)\r\n        .attr(\"height\", height);\r\n  \r\n      const gBars = svg.append(\"g\").attr(\"fill-opacity\", 1);\r\n      const gLabels = svg.append(\"g\").attr(\"text-anchor\", \"end\");\r\n      const gTicker = svg.append(\"text\").attr(\"x\", width - 6).attr(\"y\", marginTop).style(\"font,bold 12px sans-serif\");\r\n  \r\n      const updateBars = (data, transition) => {\r\n        const bars = gBars.selectAll(\"rect\").data(data, (d) => d.name);\r\n        bars\r\n          .join(\r\n            (enter) =>\r\n              enter\r\n                .append(\"rect\")\r\n                .attr(\"fill\", (d) => colorScale(d.name))\r\n                .attr(\"x\", x(0))\r\n                .attr(\"y\", (d) => y(d.rank))\r\n                .attr(\"height\", y.bandwidth())\r\n                .attr(\"width\", (d) => x(d.value/5) - x(0)),\r\n            (update) => update,\r\n            (exit) => exit.transition(transition).attr(\"width\", 0).remove()\r\n          )\r\n          console.log(\"transistion\", transition);\r\n          if(transition) {\r\n            bars.call((bar) =>\r\n            bar\r\n              .transition(transition)\r\n              .attr(\"y\", (d) => y(d.rank)) \r\n              .attr(\"width\", (d) => x(d.value) - x(0))\r\n          );}\r\n      };\r\n  \r\n      const updateLabels = (data, transition) => {\r\n        const labels = gLabels.selectAll(\"text\").data(data, (d) => d.name);\r\n        \r\n        labels\r\n          .join(\r\n            (enter) =>\r\n              enter\r\n                .append(\"text\")\r\n                .attr(\"x\", -6)\r\n                .attr(\"y\", (d) => y(d.rank) + y.bandwidth() / 2)\r\n                .attr(\"dy\", \"0.35em\")\r\n                .text((d) => d.name + \": \" + Math.round(d.value)),\r\n            (update) =>\r\n              update, \r\n            (exit) =>\r\n              exit.transition(transition).attr(\"opacity\", 0).remove() \r\n          )\r\n          if(transition) {\r\n            labels\r\n            .call((label) =>\r\n                label\r\n                  .transition(transition)\r\n                  .attr(\"x\", 120)\r\n                  .attr(\"y\", (d) => y(d.rank) + y.bandwidth() / 2)\r\n                  .attr('fill', '#FDF0D5')\r\n                  .selection() \r\n                  .text((d) => d.name + \": \" + Math.round(d.value)) \r\n              );\r\n          }\r\n      };\r\n  \r\n      const updateTicker = (date, transition) => {\r\n        gTicker\r\n        .attr('fill', '#FDF0D5')\r\n        .attr('x', width - marginRight-140)\r\n        .attr('y', height - marginBottom-100)\r\n        .transition(transition).text(date.slice(0,7));\r\n          \r\n      };\r\n\r\n      \r\n      (async function animateChart() {\r\n        for (const { date, val } of keyframes) {\r\n          if (!val || val.length === 0) continue; \r\n  \r\n          const transition = svg.transition()\r\n            .duration(duration)\r\n            .ease(d3.easeLinear);\r\n\r\n          x.domain([0, 3000]); \r\n\r\n          updateBars(val, transition);\r\n          updateLabels(val, transition);\r\n          updateTicker(date, transition);\r\n            try {\r\n              await transition.end();\r\n            } catch (e) {\r\n              console.log(\"Transition interrupted:\", e);\r\n            }\r\n          }\r\n      })();\r\n      \r\n    }, [keyframes, replay, svgRef]); \r\n  \r\n    return (\r\n      <div>\r\n        <button onClick={replayAnimation} className=\"replay-button\">Replay</button> \r\n        <svg ref={svgRef} className=\"bar-race\"></svg>\r\n      </div>\r\n    );\r\n  };\r\n  \r\n  export default BarRace;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}