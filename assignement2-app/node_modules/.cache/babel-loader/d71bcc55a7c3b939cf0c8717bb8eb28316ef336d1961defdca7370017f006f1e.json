{"ast":null,"code":"var _jsxFileName = \"C:\\\\Jean\\\\Scolarite\\\\NUS\\\\SoC\\\\Data_vizualisation\\\\Assignement_2\\\\assignement2-app\\\\src\\\\Components\\\\ParallelPlot.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport * as d3 from \"d3\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ParallelPlot() {\n  _s();\n  const [data, setData] = useState(null);\n  useEffect(() => {\n    d3.dsv(\",\", \"/assets/cars.csv\").then(loadedData => {\n      setData(loadedData);\n    }); //, (d) => ({\n    /*\r\n      name: d.name,\r\n      economy: +d.economy,\r\n      cylinders: +d.cylinders,\r\n      displacement: +d.displacement,\r\n      power: +d.power,\r\n      weight: +d.weight,\r\n      mph: +d.mph,    \r\n      year: +d.year,\r\n    }))*/\n  }, []);\n  if (!data) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading viz...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(GraphVisualization, {\n    data: data\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 12\n  }, this);\n}\n_s(ParallelPlot, \"fQZRxy/+nAZ7NLS1X4dVhrlp8Go=\");\n_c = ParallelPlot;\nfunction GraphVisualization({\n  data\n}) {\n  _s2();\n  // Specify the chart’s dimensions.\n  const keys = data.columns.slice(1);\n  const keyz = \"year\";\n  const width = 928;\n  const height = keys.length * 120;\n  const marginTop = 20;\n  const marginRight = 10;\n  const marginBottom = 20;\n  const marginLeft = 10;\n  useEffect(() => {\n    d3.select(\"#parralel-container\").select(\"svg\").remove();\n  }, [data]);\n\n  // Create an horizontal (*x*) scale for each key.\n  const x = new Map(Array.from(keys, key => [key, d3.scaleLinear(d3.extent(data, d => d[key]), [marginLeft, width - marginRight])]));\n\n  // Create the vertical (*y*) scale.\n  const y = d3.scalePoint(keys, [marginTop, height - marginBottom]);\n\n  // Create the color scale.\n  const color = d3.scaleSequential(x.get(keyz).domain(), t => d3.interpolateBrBG(1 - t));\n  //const color = d3.scaleOrdinal(data.children.map((d) => d.name), d3.schemeTableau10);\n  // Create the SVG container.\n  //const svg = d3.create(\"svg\")\n  const svg = d3.select(\"#parralel-container\").append(\"svg\").attr(\"viewBox\", [0, 0, width, height]).attr(\"width\", width).attr(\"height\", height).attr(\"style\", \"max-width: 100%; height: auto;\");\n  const z = svg.append(\"g\");\n  const zoom = d3.zoom().scaleExtent([0.5, 5]) // Facteur de zoom min/max\n  .on(\"zoom\", event => {\n    z.attr(\"transform\", event.transform); // Applique la transformation sur le groupe contenant le graph\n  });\n\n  //svg.call(zoom);\n\n  // Append the lines.\n  const line = d3.line().defined(([, value]) => value != null).x(([key, value]) => x.get(key)(value)).y(([key]) => y(key));\n  z.attr(\"fill\", \"none\").attr(\"stroke-width\", 1.5).attr(\"stroke-opacity\", 0.4).selectAll(\"path\").data(data.slice().sort((a, b) => d3.ascending(a[keyz], b[keyz]))).join(\"path\").attr(\"stroke\", d => color(d[keyz])).attr(\"d\", d => line(d3.cross(keys, [d], (key, d) => [key, d[key]]))).append(\"title\").text(d => d.name);\n\n  // Append the axis for each key.\n  z.selectAll(\"g\").data(keys).join(\"g\").attr(\"transform\", d => `translate(0,${y(d)})`).each(function (d) {\n    d3.select(this).call(d3.axisBottom(x.get(d)));\n  }).call(g => g.append(\"text\").attr(\"x\", marginLeft).attr(\"y\", -6).attr(\"text-anchor\", \"start\").attr(\"fill\", \"currentColor\").text(d => d)).call(g => g.selectAll(\"text\").clone(true).lower().attr(\"fill\", \"none\").attr(\"stroke-width\", 5).attr(\"stroke-linejoin\", \"round\").attr(\"stroke\", \"white\"));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"parralel-container\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n}\n_s2(GraphVisualization, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c2 = GraphVisualization;\nexport default ParallelPlot;\nvar _c, _c2;\n$RefreshReg$(_c, \"ParallelPlot\");\n$RefreshReg$(_c2, \"GraphVisualization\");","map":{"version":3,"names":["useEffect","useState","d3","jsxDEV","_jsxDEV","ParallelPlot","_s","data","setData","dsv","then","loadedData","children","fileName","_jsxFileName","lineNumber","columnNumber","GraphVisualization","_c","_s2","keys","columns","slice","keyz","width","height","length","marginTop","marginRight","marginBottom","marginLeft","select","remove","x","Map","Array","from","key","scaleLinear","extent","d","y","scalePoint","color","scaleSequential","get","domain","t","interpolateBrBG","svg","append","attr","z","zoom","scaleExtent","on","event","transform","line","defined","value","selectAll","sort","a","b","ascending","join","cross","text","name","each","call","axisBottom","g","clone","lower","id","_c2","$RefreshReg$"],"sources":["C:/Jean/Scolarite/NUS/SoC/Data_vizualisation/Assignement_2/assignement2-app/src/Components/ParallelPlot.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport * as d3 from \"d3\";\r\n\r\nfunction ParallelPlot() {\r\n    const [data, setData] = useState(null);\r\n  \r\n    useEffect(() => {\r\n      d3.dsv(\",\", \"/assets/cars.csv\").then((loadedData) => {\r\n        setData(loadedData);\r\n      });//, (d) => ({\r\n      /*\r\n        name: d.name,\r\n        economy: +d.economy,\r\n        cylinders: +d.cylinders,\r\n        displacement: +d.displacement,\r\n        power: +d.power,\r\n        weight: +d.weight,\r\n        mph: +d.mph,    \r\n        year: +d.year,\r\n      }))*/\r\n    }, []);\r\n  \r\n    if (!data) return <p>Loading viz...</p>;\r\n  \r\n    return <GraphVisualization data={data} />;\r\n  }\r\n\r\n\r\nfunction GraphVisualization({ data}){\r\n\r\n    // Specify the chart’s dimensions.\r\n    const keys = data.columns.slice(1)\r\n    const keyz = \"year\";\r\n    const width = 928;\r\n    const height = keys.length * 120;\r\n    const marginTop = 20;\r\n    const marginRight = 10;\r\n    const marginBottom = 20;\r\n    const marginLeft = 10;\r\n    useEffect(() => {\r\n      d3.select(\"#parralel-container\").select(\"svg\").remove(); \r\n    }, [data]);\r\n    \r\n\r\n\r\n  \r\n    // Create an horizontal (*x*) scale for each key.\r\n    const x = new Map(Array.from(keys, key => [key, d3.scaleLinear(d3.extent(data, d => d[key]), [marginLeft, width - marginRight])]));\r\n  \r\n    // Create the vertical (*y*) scale.\r\n    const y = d3.scalePoint(keys, [marginTop, height - marginBottom]);\r\n  \r\n    // Create the color scale.\r\n    const color = d3.scaleSequential(x.get(keyz).domain(), t => d3.interpolateBrBG(1 - t));\r\n    //const color = d3.scaleOrdinal(data.children.map((d) => d.name), d3.schemeTableau10);\r\n    // Create the SVG container.\r\n    //const svg = d3.create(\"svg\")\r\n    const svg = d3.select(\"#parralel-container\")\r\n        .append(\"svg\")\r\n        .attr(\"viewBox\", [0, 0, width, height])\r\n        .attr(\"width\", width)\r\n        .attr(\"height\", height)\r\n        .attr(\"style\", \"max-width: 100%; height: auto;\");\r\n\r\n        const z = svg.append(\"g\");\r\n\r\n        const zoom = d3.zoom()\r\n        .scaleExtent([0.5, 5]) // Facteur de zoom min/max\r\n        .on(\"zoom\", (event) => {\r\n        z.attr(\"transform\", event.transform); // Applique la transformation sur le groupe contenant le graph\r\n        });\r\n  \r\n    //svg.call(zoom);\r\n\r\n    \r\n    // Append the lines.\r\n    const line = d3.line()\r\n      .defined(([, value]) => value != null)\r\n      .x(([key, value]) => x.get(key)(value))\r\n      .y(([key]) => y(key));\r\n  \r\n    z.attr(\"fill\", \"none\")\r\n        .attr(\"stroke-width\", 1.5)\r\n        .attr(\"stroke-opacity\", 0.4)\r\n      .selectAll(\"path\")\r\n      .data(data.slice().sort((a, b) => d3.ascending(a[keyz], b[keyz])))\r\n      .join(\"path\")\r\n        .attr(\"stroke\", d => color(d[keyz]))\r\n        .attr(\"d\", d => line(d3.cross(keys, [d], (key, d) => [key, d[key]])))\r\n      .append(\"title\")\r\n        .text(d => d.name);\r\n  \r\n    // Append the axis for each key.\r\n    z.selectAll(\"g\")\r\n      .data(keys)\r\n      .join(\"g\")\r\n        .attr(\"transform\", d => `translate(0,${y(d)})`)\r\n        .each(function(d) { d3.select(this).call(d3.axisBottom(x.get(d))); })\r\n        .call(g => g.append(\"text\")\r\n          .attr(\"x\", marginLeft)\r\n          .attr(\"y\", -6)\r\n          .attr(\"text-anchor\", \"start\")\r\n          .attr(\"fill\", \"currentColor\")\r\n          .text(d => d))\r\n        .call(g => g.selectAll(\"text\")\r\n          .clone(true).lower()\r\n          .attr(\"fill\", \"none\")\r\n          .attr(\"stroke-width\", 5)\r\n          .attr(\"stroke-linejoin\", \"round\")\r\n          .attr(\"stroke\", \"white\"));\r\n    \r\n    return (\r\n    <div id=\"parralel-container\">\r\n    </div>);\r\n  }\r\n\r\n  export default ParallelPlot;"],"mappings":";;;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAO,KAAKC,EAAE,MAAM,IAAI;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEzB,SAASC,YAAYA,CAAA,EAAG;EAAAC,EAAA;EACpB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGP,QAAQ,CAAC,IAAI,CAAC;EAEtCD,SAAS,CAAC,MAAM;IACdE,EAAE,CAACO,GAAG,CAAC,GAAG,EAAE,kBAAkB,CAAC,CAACC,IAAI,CAAEC,UAAU,IAAK;MACnDH,OAAO,CAACG,UAAU,CAAC;IACrB,CAAC,CAAC,CAAC;IACH;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACI,CAAC,EAAE,EAAE,CAAC;EAEN,IAAI,CAACJ,IAAI,EAAE,oBAAOH,OAAA;IAAAQ,QAAA,EAAG;EAAc;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAG,CAAC;EAEvC,oBAAOZ,OAAA,CAACa,kBAAkB;IAACV,IAAI,EAAEA;EAAK;IAAAM,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AAC3C;AAACV,EAAA,CAtBMD,YAAY;AAAAa,EAAA,GAAZb,YAAY;AAyBrB,SAASY,kBAAkBA,CAAC;EAAEV;AAAI,CAAC,EAAC;EAAAY,GAAA;EAEhC;EACA,MAAMC,IAAI,GAAGb,IAAI,CAACc,OAAO,CAACC,KAAK,CAAC,CAAC,CAAC;EAClC,MAAMC,IAAI,GAAG,MAAM;EACnB,MAAMC,KAAK,GAAG,GAAG;EACjB,MAAMC,MAAM,GAAGL,IAAI,CAACM,MAAM,GAAG,GAAG;EAChC,MAAMC,SAAS,GAAG,EAAE;EACpB,MAAMC,WAAW,GAAG,EAAE;EACtB,MAAMC,YAAY,GAAG,EAAE;EACvB,MAAMC,UAAU,GAAG,EAAE;EACrB9B,SAAS,CAAC,MAAM;IACdE,EAAE,CAAC6B,MAAM,CAAC,qBAAqB,CAAC,CAACA,MAAM,CAAC,KAAK,CAAC,CAACC,MAAM,CAAC,CAAC;EACzD,CAAC,EAAE,CAACzB,IAAI,CAAC,CAAC;;EAKV;EACA,MAAM0B,CAAC,GAAG,IAAIC,GAAG,CAACC,KAAK,CAACC,IAAI,CAAChB,IAAI,EAAEiB,GAAG,IAAI,CAACA,GAAG,EAAEnC,EAAE,CAACoC,WAAW,CAACpC,EAAE,CAACqC,MAAM,CAAChC,IAAI,EAAEiC,CAAC,IAAIA,CAAC,CAACH,GAAG,CAAC,CAAC,EAAE,CAACP,UAAU,EAAEN,KAAK,GAAGI,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;;EAElI;EACA,MAAMa,CAAC,GAAGvC,EAAE,CAACwC,UAAU,CAACtB,IAAI,EAAE,CAACO,SAAS,EAAEF,MAAM,GAAGI,YAAY,CAAC,CAAC;;EAEjE;EACA,MAAMc,KAAK,GAAGzC,EAAE,CAAC0C,eAAe,CAACX,CAAC,CAACY,GAAG,CAACtB,IAAI,CAAC,CAACuB,MAAM,CAAC,CAAC,EAAEC,CAAC,IAAI7C,EAAE,CAAC8C,eAAe,CAAC,CAAC,GAAGD,CAAC,CAAC,CAAC;EACtF;EACA;EACA;EACA,MAAME,GAAG,GAAG/C,EAAE,CAAC6B,MAAM,CAAC,qBAAqB,CAAC,CACvCmB,MAAM,CAAC,KAAK,CAAC,CACbC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE3B,KAAK,EAAEC,MAAM,CAAC,CAAC,CACtC0B,IAAI,CAAC,OAAO,EAAE3B,KAAK,CAAC,CACpB2B,IAAI,CAAC,QAAQ,EAAE1B,MAAM,CAAC,CACtB0B,IAAI,CAAC,OAAO,EAAE,gCAAgC,CAAC;EAEhD,MAAMC,CAAC,GAAGH,GAAG,CAACC,MAAM,CAAC,GAAG,CAAC;EAEzB,MAAMG,IAAI,GAAGnD,EAAE,CAACmD,IAAI,CAAC,CAAC,CACrBC,WAAW,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;EAAA,CACtBC,EAAE,CAAC,MAAM,EAAGC,KAAK,IAAK;IACvBJ,CAAC,CAACD,IAAI,CAAC,WAAW,EAAEK,KAAK,CAACC,SAAS,CAAC,CAAC,CAAC;EACtC,CAAC,CAAC;;EAEN;;EAGA;EACA,MAAMC,IAAI,GAAGxD,EAAE,CAACwD,IAAI,CAAC,CAAC,CACnBC,OAAO,CAAC,CAAC,GAAGC,KAAK,CAAC,KAAKA,KAAK,IAAI,IAAI,CAAC,CACrC3B,CAAC,CAAC,CAAC,CAACI,GAAG,EAAEuB,KAAK,CAAC,KAAK3B,CAAC,CAACY,GAAG,CAACR,GAAG,CAAC,CAACuB,KAAK,CAAC,CAAC,CACtCnB,CAAC,CAAC,CAAC,CAACJ,GAAG,CAAC,KAAKI,CAAC,CAACJ,GAAG,CAAC,CAAC;EAEvBe,CAAC,CAACD,IAAI,CAAC,MAAM,EAAE,MAAM,CAAC,CACjBA,IAAI,CAAC,cAAc,EAAE,GAAG,CAAC,CACzBA,IAAI,CAAC,gBAAgB,EAAE,GAAG,CAAC,CAC7BU,SAAS,CAAC,MAAM,CAAC,CACjBtD,IAAI,CAACA,IAAI,CAACe,KAAK,CAAC,CAAC,CAACwC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK9D,EAAE,CAAC+D,SAAS,CAACF,CAAC,CAACxC,IAAI,CAAC,EAAEyC,CAAC,CAACzC,IAAI,CAAC,CAAC,CAAC,CAAC,CACjE2C,IAAI,CAAC,MAAM,CAAC,CACVf,IAAI,CAAC,QAAQ,EAAEX,CAAC,IAAIG,KAAK,CAACH,CAAC,CAACjB,IAAI,CAAC,CAAC,CAAC,CACnC4B,IAAI,CAAC,GAAG,EAAEX,CAAC,IAAIkB,IAAI,CAACxD,EAAE,CAACiE,KAAK,CAAC/C,IAAI,EAAE,CAACoB,CAAC,CAAC,EAAE,CAACH,GAAG,EAAEG,CAAC,KAAK,CAACH,GAAG,EAAEG,CAAC,CAACH,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CACtEa,MAAM,CAAC,OAAO,CAAC,CACbkB,IAAI,CAAC5B,CAAC,IAAIA,CAAC,CAAC6B,IAAI,CAAC;;EAEtB;EACAjB,CAAC,CAACS,SAAS,CAAC,GAAG,CAAC,CACbtD,IAAI,CAACa,IAAI,CAAC,CACV8C,IAAI,CAAC,GAAG,CAAC,CACPf,IAAI,CAAC,WAAW,EAAEX,CAAC,IAAI,eAAeC,CAAC,CAACD,CAAC,CAAC,GAAG,CAAC,CAC9C8B,IAAI,CAAC,UAAS9B,CAAC,EAAE;IAAEtC,EAAE,CAAC6B,MAAM,CAAC,IAAI,CAAC,CAACwC,IAAI,CAACrE,EAAE,CAACsE,UAAU,CAACvC,CAAC,CAACY,GAAG,CAACL,CAAC,CAAC,CAAC,CAAC;EAAE,CAAC,CAAC,CACpE+B,IAAI,CAACE,CAAC,IAAIA,CAAC,CAACvB,MAAM,CAAC,MAAM,CAAC,CACxBC,IAAI,CAAC,GAAG,EAAErB,UAAU,CAAC,CACrBqB,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CACbA,IAAI,CAAC,aAAa,EAAE,OAAO,CAAC,CAC5BA,IAAI,CAAC,MAAM,EAAE,cAAc,CAAC,CAC5BiB,IAAI,CAAC5B,CAAC,IAAIA,CAAC,CAAC,CAAC,CACf+B,IAAI,CAACE,CAAC,IAAIA,CAAC,CAACZ,SAAS,CAAC,MAAM,CAAC,CAC3Ba,KAAK,CAAC,IAAI,CAAC,CAACC,KAAK,CAAC,CAAC,CACnBxB,IAAI,CAAC,MAAM,EAAE,MAAM,CAAC,CACpBA,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC,CACvBA,IAAI,CAAC,iBAAiB,EAAE,OAAO,CAAC,CAChCA,IAAI,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;EAE/B,oBACA/C,OAAA;IAAKwE,EAAE,EAAC;EAAoB;IAAA/D,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACvB,CAAC;AACR;AAACG,GAAA,CAtFMF,kBAAkB;AAAA4D,GAAA,GAAlB5D,kBAAkB;AAwFzB,eAAeZ,YAAY;AAAC,IAAAa,EAAA,EAAA2D,GAAA;AAAAC,YAAA,CAAA5D,EAAA;AAAA4D,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}